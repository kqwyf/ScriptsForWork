#!/bin/bash

# Print slurm history based on '~/.slurm_job_history' generated by 'submit'.

set -euo pipefail

###### Default Arguments ######
n=10
###############################

if [ $# -gt 0 ]; then
    n=${1}
    int_regexp='^[1-9][0-9]*$'
    if ! [[ ${n} =~ ${int_regexp} ]]; then
        echo "ERROR: Number of records '${n}' is not an integer." >&2
        exit 1
    fi
fi

tail -n ${n} ~/.slurm_job_history

